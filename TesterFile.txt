import java.time.Duration;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;
import org.testng.annotations.Test;

public class SeleniumInterview {

	@Test
	public void LoginTest() throws InterruptedException {

		System.setProperty("webdriver.chrome.driver", "C:\\Users\\marut\\OneDrive\\Desktop\\Driver\\chromedriver.exe");

		WebDriver driver = new ChromeDriver();

		driver.manage().window().maximize();

		driver.get("https://rahulshettyacademy.com/locatorspractice/");

		driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(15));

		WebElement username = driver.findElement(By.id("inputUsername"));
		username.sendKeys("maruthyesr");

		WebElement password = driver.findElement(By.name("inputPassword"));
		password.sendKeys("Open@1234566");

		WebElement rememberMyUsername = driver.findElement(By.id("chkboxOne"));
		rememberMyUsername.click();

		WebElement termsPolicy = driver.findElement(By.name("chkboxTwo"));
		termsPolicy.click();

		WebElement submitBtn = driver.findElement(By.className("submit"));
		submitBtn.click();

		String errorMsg = driver.findElement(By.cssSelector(".error")).getText();

		System.out.println("errorMsg is : " + errorMsg);

		WebElement forgotPswdLink = driver.findElement(By.className("forgot-pwd-container"));
		forgotPswdLink.click();

		Thread.sleep(3000);

		driver.findElement(By.xpath("//input[@placeholder='Name']")).sendKeys("maruthy@gmail.com");

		driver.findElement(By.xpath("//input[@placeholder='Email']")).sendKeys("Open@456");

		driver.findElement(By.cssSelector("input[placeholder='Phone Number']")).sendKeys("8667326404");

		driver.findElement(By.xpath("//button[text()='Reset Login']")).click();

		String userInfo = driver.findElement(By.className("infoMsg")).getText();

		System.out.println("userInfo is : " + userInfo);

		String[] pInfo = userInfo.split("'");

		System.out.println("pInfo is : " + pInfo[1]);

		String correctPassword = pInfo[1];

		driver.findElement(By.cssSelector(".go-to-login-btn")).click();

		Thread.sleep(3000);

		WebElement username1 = driver.findElement(By.id("inputUsername"));
		username1.sendKeys("maruthy@gmail.com");

		WebElement password1 = driver.findElement(By.name("inputPassword"));
		password1.sendKeys(correctPassword);

		driver.findElement(By.id("chkboxOne")).click();

		driver.findElement(By.name("chkboxTwo")).click();

		driver.findElement(By.className("submit")).click();

	}

}
